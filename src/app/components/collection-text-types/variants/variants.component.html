@if (!text) {
  <ion-spinner class="loading" name="crescent"></ion-spinner>
}

@if (text && variants.length>0) {
  <div class="text-select-wrapper">
    <div class="tsw-text-title" [innerHTML]="selectedVariant.name"></div>
    <div class="flex-buttons">
      <ion-button class="custom-button"
            (click)="selectVariant($event)"
            i18n="@@Variants.ChangeVariant"
      >Byt variant</ion-button>
      <ion-button class="custom-outline-button"
            fill="outline"
            (click)="selectVariantForNewView()"
            i18n="@@Variants.OpenNewVariant"
      >Öppna ny variant</ion-button>
      @if (showOpenLegendButton) {
        <ion-button class="circular-icon-button align-right"
              fill="outline"
              slot="icon-only"
              (click)="openNewLegend($event)"
              title="Teckenförklaringar"
              i18n-title="@@Legend.Legend"
        >
          <ion-icon name="help-outline"></ion-icon>
        </ion-button>
      }
    </div>
  </div>
}

<div class="tei teiContainer teiVariant"
      [class.show_pageBreakOriginal]="viewOptionsService.show.pageBreakOriginal"
      [class.show-variations-all]="viewOptionsService.selectedVariationType === 'all'"
      [class.show-variations-sub]="viewOptionsService.selectedVariationType === 'sub'"
      [class.show-variations-none]="viewOptionsService.selectedVariationType === 'none'"
      [innerHTML]="text | trustHtml"
></div>
